<?php




?>



<!doctype html>
<html class="no-js h-100" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Smart Lego Block-student</title>
    <meta name="description" content="A high-quality &amp; free Bootstrap admin dashboard template pack that comes with lots of templates and components.">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" id="main-stylesheet" data-version="1.1.0" href="/static/styles/shards-dashboards.1.1.0.min.css">
    <link rel="stylesheet" href="/static/styles/extras.1.1.0.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/calendar.css') }}">
    <script async defer src="https://buttons.github.io/buttons.js"></script>    
    <script type=text/javascript src="{{url_for('static',filename='jquery.js')}}"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
  </head>
  <body class="h-100">
    
    <div class="container-fluid">
      <div class="row">
        <!-- Main Sidebar -->
        <aside class="main-sidebar col-12 col-md-3 col-lg-2 px-0">
          <div class="main-navbar">
            <nav class="navbar align-items-stretch navbar-light bg-white flex-md-nowrap border-bottom p-0">
              <a class="navbar-brand w-100 mr-0" href="/" style="line-height: 25px;">
                <div class="d-table m-auto">
                  <!-- <img id="main-logo" class="d-inline-block align-top mr-1" style="max-width: 25px;" src="/static/images/shards-dashboards-logo.svg" alt="Shards Dashboard"> -->
                  <span class="d-none d-md-inline ml-1">Smart Lego Block</span>
                </div>
              </a>
              <a class="toggle-sidebar d-sm-inline d-md-none d-lg-none">
                <i class="material-icons">&#xE5C4;</i>
              </a>
            </nav>
          </div>
          <form action="#" class="main-sidebar__search w-100 border-right d-sm-flex d-md-none d-lg-none">
            <div class="input-group input-group-seamless ml-3">
              <div class="input-group-prepend">
                <div class="input-group-text">
                  <i class="fas fa-search"></i>
                </div>
              </div>
              <input class="navbar-search form-control" type="text" placeholder="Search for something..." aria-label="Search"> </div>
          </form>
          <div class="nav-wrapper">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" href="/class">
                  <i class="material-icons">home</i>
                  <span>수업 조회</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="/student">
                  <i class="material-icons">people</i>
                  <span>학생 조회</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link " href="/feedback">
                  <i class="material-icons">edit</i>
                  <span>강의 평가</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link " href="/edit">
                  <i class="material-icons">account_circle</i>
                  <span>학생 설정</span>
                </a>
              </li>
            </ul>
          </div>
        </aside>
        <!-- End Main Sidebar -->
        <main class="main-content col-lg-10 col-md-9 col-sm-12 p-0 offset-lg-2 offset-md-3">
          <div class="main-navbar sticky-top bg-white">
            <!-- Main Navbar -->
            <nav class="navbar align-items-stretch navbar-light flex-md-nowrap p-0">
              <form action="#" class="main-navbar__search w-100 d-none d-md-flex d-lg-flex">
                <div class="input-group input-group-seamless ml-3">
                  <div class="input-group-prepend">
                    <div class="input-group-text">
                      <i class="fas fa-search"></i>
                    </div>
                  </div>
                  <input class="navbar-search form-control" type="text" placeholder="Search for something..." aria-label="Search"> </div>
              </form>
              <ul class="navbar-nav border-left flex-row ">
                
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle text-nowrap px-3" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
                    <img class="user-avatar rounded-circle mr-2" src="/static/images/avatars/user.jpg" alt="User Avatar">
                  </a>
                  
                </li>
              </ul>
              <nav class="nav">
                <a href="#" class="nav-link nav-link-icon toggle-sidebar d-md-inline d-lg-none text-center border-left" data-toggle="collapse" data-target=".header-navbar" aria-expanded="false" aria-controls="header-navbar">
                  <i class="material-icons">&#xE5D2;</i>
                </a>
              </nav>
            </nav>
          </div>
          <!-- End Main Navbar -->
          <div class="main-content-container container-fluid px-4">
            <!-- Page Header -->
            <div class="page-header row no-gutters py-4">
              <div class="col-12 col-sm-4 text-center text-sm-left mb-0">
                <span class="text-uppercase page-subtitle">Student's detail Information</span>
                <h3 class="page-title">학생 세부사항 조회</h3>
              </div>
            </div>
            <!-- End Page Header -->

            <!--USER 상세 보기 Page-->
            <!--상세 페이지에 수정 홈페이지로 이동하게 할지 말지 생각해보자 -->
            <!-- Default Light Table -->
            <div class="row">
              <div class="col-lg-3">
                <!--학생 개인 프로필-->
                <div class="card card-small mb-4 pt-3">
                  <div class="card-header border-bottom text-center">
                    <div class="mb-3 mx-auto">
                      <img class="rounded-circle" src="/static/images/user_init.png" alt="User Avatar" width="110"> </div>
                    <h4 class="mb-0">{{student['name']}}</h4>
                    <span class="text-muted d-block mb-2">{{student['student_id']}}</span>
                  </div>

                  <ul class="list-group list-group-flush">
                    <!-- <li class="list-group-item px-4">
                      <div class="progress-wrapper">
                        <strong class="text-muted d-block mb-2">학습 진행 상황</strong>
                        <div class="progress progress-sm">
                          <div class="progress-bar bg-primary" role="progressbar" aria-valuenow="74" aria-valuemin="0" aria-valuemax="100" style="width: 74%;">
                            <span class="progress-value">74%</span>
                          </div>
                        </div>
                      </div>
                    </li> -->
                    <li class="list-group-item px-4">
                      <strong class="text-muted">학급반</strong>
                      <strong class="float-right">개나리반<small>(담당자: 박세정)</small></strong>
                    </li>

                    <li class="list-group-item p-4">
                      <strong class="text-muted d-block mb-2">학생 세부 정보</strong>
                      <div>
                      <span>
                        <ul class="list-group">
                          <li class="list-group-item"><small class="text-muted">생년월일</small><strong class="float-right">{{student['birth']}}</strong></li>
                          <li class="list-group-item"><small class="text-muted">성별</small><strong class="float-right">{{student['gender']}}</strong></li>
                          <li class="list-group-item"><small class="text-muted">전화번호</small><strong class="float-right">{{student['phone']}}</strong></li>
                          <li class="list-group-item"><small class="text-muted">이메일</small><strong class="float-right">{{student['email']}}</strong></li>
                          <!-- <li class="list-group-item"><small class="text-muted">주소</small><strong class="float-right"> 000시 000구 000호</strong></li> -->
                        </ul>
                      </span>
                    </div>
                  </ul>
                </div>
              </div>
               
              <!--Account Detail-->
              <div class="col-lg-3">

                <div class="card card-small mb-4">
                  <div class="card-header border-bottom">
                    <h6 class="m-0">출석관리</h6>
                  </div>
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item p-3 cal">
                      <div class="row">
                        <div class="col">
                          <!--달력 자동출석 시스템-->
                                  <!--월 넘기기-->                                  
                                  <div class="container">
                                    <div class="calendar">
                                      <div class="cal-header">
                                          <!-- <div class="cal-title"> -->
                                              <button class="cal-title-btn go-prev" onclick="prevMonth()">&lt;</button>
                                              <button class="cal-title-btn go-today year-month" onclick="goToday()"></button>
                                              <button class="cal-title-btn go-next" onclick="nextMonth()">&gt;</button>
                                          <!-- </div> -->
                                      </div>
                                      <div class="cal-main">

                                          <div class="cal-days">
                                              <div class="cal-day">SUN</div>
                                              <div class="cal-day">MON</div>
                                              <div class="cal-day">TUE</div>
                                              <div class="cal-day">WED</div>
                                              <div class="cal-day">THU</div>
                                              <div class="cal-day">FRI</div>
                                              <div class="cal-day">SAT</div>
                                          </div>



                                            <div class="cal-dates">
                        
                                            </div>

                                          
                                      </div>
                                  </div>
                          </div>
                      </div>
                    </li>
                  </ul>                 
                </div>
           </div>
                
              <!--Account Detail-->
              <div class="col-lg-6">
                <div class="card card-small mb-4">
                  <div class="card-header border-bottom">
                    <h6 class="m-0">학습 진행 상황</h6>
                  </div>
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item p-4">
                      <div class="progress-wrapper">
                        <strong class="text-muted d-block mb-2">전체 학습 진행상황</strong>
                        <div class="progress progress-sm">
                          <div class="progress-bar bg-primary" role="progressbar" aria-valuenow="74" aria-valuemin="0" aria-valuemax="100" style="width: 74%;">
                            <span class="progress-value">74%</span>
                          </div>
                        </div>
                      </div>
                    </li>
                    <li class="list-group-item p-4">
                      <div class="progress-wrapper">
                        <strong class="text-muted d-block mb-2">국어 학습 진행상황</strong>
                        <div class="progress progress-sm">
                          <div class="progress-bar bg-primary" role="progressbar" aria-valuenow="54" aria-valuemin="0" aria-valuemax="100" style="width: 54%;">
                            <span class="progress-value">54%</span>
                          </div>
                        </div>
                      </div>
                    </li>
                    <li class="list-group-item p-4">
                      <div class="progress-wrapper">
                        <strong class="text-muted d-block mb-2">영어 학습 진행상황</strong>
                        <div class="progress progress-sm">
                          <div class="progress-bar bg-primary" role="progressbar" aria-valuenow="84" aria-valuemin="0" aria-valuemax="100" style="width: 84%;">
                            <span class="progress-value">84%</span>
                          </div>
                        </div>
                      </div>
                    </li>
                    <li class="list-group-item p-4">
                      <div class="progress-wrapper">
                        <strong class="text-muted d-block mb-2">수학 학습 진행상황</strong>
                        <div class="progress progress-sm">
                          <div class="progress-bar bg-primary" role="progressbar" aria-valuenow="44" aria-valuemin="0" aria-valuemax="100" style="width: 44%;">
                            <span class="progress-value">44%</span>
                          </div>
                        </div>
                      </div>
                    </li>
                  </ul>                 
                </div>
                    <div class="card card-small mb-4">
                      <div class="card-header border-bottom">
                        <h6 class="m-0">Study Info</h6>
                      </div>
                      <div class="card-body p-0 pb-3 text-center">
                        <table class="table mb-0">
                          <thead class="bg-light">
                            <tr>
                              {% for keys in study[0] %}
                                <th scope="col" class="border-0">{{keys}}</th>                        
                              {% endfor %}
                            </tr>
                          </thead>
                          
                          <tbody>
                            {% for info in study %}
                              <tr>
                              {% for key, val in info.items() %}
                                <td>{{val}}</td>
                              {% endfor %}
                              </tr>
                            {% endfor %}
                          </tbody>
                        </table>
                      </div>
                  </div>
                </div>
           </div>          
        </div>
        

    <script>
      let date = new Date();

      const renderCalendar = () => {
        const viewYear = date.getFullYear();
        const viewMonth = date.getMonth();
        monList=['January','February','March','April','May','June','July','August','September','October','November','December']

        // year-month 채우기
        document.querySelector('.year-month').textContent = `${monList[viewMonth]} ${viewYear}`;

        // 지난 달 마지막 Date, 이번 달 마지막 Date
        const prevLast = new Date(viewYear, viewMonth, 0);
        const thisLast = new Date(viewYear, viewMonth + 1, 0);

        const PLDate = prevLast.getDate();
        const PLDay = prevLast.getDay();

        const TLDate = thisLast.getDate();
        const TLDay = thisLast.getDay();

        // Dates 기본 배열들
        const prevDates = [];
        const thisDates = [...Array(TLDate + 1).keys()].slice(1);
        const nextDates = [];

        // prevDates 계산
        if (PLDay !== 6) {
          for (let i = 0; i < PLDay + 1; i++) {
            prevDates.unshift(PLDate - i);
          }
        }

        // nextDates 계산
        for (let i = 1; i < 7 - TLDay; i++) {
          nextDates.push(i)
        }

        // Dates 합치기
        const dates = prevDates.concat(thisDates, nextDates);

        // Dates 정리
          const firstDateIndex = dates.indexOf(1);
          const lastDateIndex = dates.lastIndexOf(TLDate);

          dates.forEach((date, i) => {
          const condition = i >= firstDateIndex && i < lastDateIndex + 1
                              ? 'this'
                              : 'cal-other';

          dates[i] = `<div class="cal-date ${condition}"><div="check ${date}"><span>${date}</span></div>`;
          })
          


        // Dates 그리기
        document.querySelector('.cal-dates').innerHTML = dates.join('');

        // 오늘 날짜 그리기
        const today = new Date();
        if (viewMonth === today.getMonth() && viewYear === today.getFullYear()) {
          for (let date of document.querySelectorAll('.this')) {
            if (+date.innerText === today.getDate()) {
              date.classList.add('today');
              break;
            }
            
          }
          
          for (let caldate of document.querySelectorAll('.cal-date')){
            if(caldate.value === today.getDate()){
              caldate.classList.add('today');
              break;
            }
          }

        }

          


      }


      renderCalendar();

      // 함수 이용
      const prevMonth = () => {
          date.setMonth(date.getMonth() - 1);
          renderCalendar();
        }
        
        const nextMonth = () => {
          date.setMonth(date.getMonth() + 1);
          renderCalendar();
        }
        
        const goToday = () => {
          date = new Date();
          renderCalendar();
        }

        // ajax

    </script>

    <style>
.calendar {
    margin: 10px,10px,10px,10px;   
    width: 100%;
    text-align: center;
    /* background-color: #eaeded; */
    cursor: default;
  }
  /*월과 버튼 사이 간격 벌린코드*/
  .cal-header {
    margin: 0 auto; 
    width: 100%;
    padding: 10px;
  }
  .cal-title-btn {
    /* width: 10%;   */
    border: none;
    font-size: 20px;
    line-height: 34px;
    background-color: transparent;
    cursor: pointer;
  }
  /*today 버튼 꾸밈*/
  .cal-go-today {
    width: 80%;
    font-size: 10px;
  }
  /*요일 정렬*/
  .cal-days {
    display: flex;
    margin: 25px 0 15px;
  }
  /*요일 간격 벌림*/
  .cal-day {
    width: calc(100% / 7);
    text-align: center;
  }
  /*일 정렬*/
  .cal-dates {
    background-color: #Fff;
    border-radius: 0px 0px 25px 25px;
    display: flex;
    flex-flow: row wrap;
    height: 1%; 
  }
  /*5일씩 정렬*/
  .cal-date {
    font-size: 17px;
    font-weight: 500;
    width: calc(100% / 7);
    margin: 0px auto;
    padding: 10px;
    text-align: center;
  }
  .cal-date:hover{
    color: black;
    border-radius: 25px;
    /* /* padding: 3px; */
    box-shadow: 2px 2px 2px #a6acaf, -1px 0 0.6em #f8f9f9; 
  }

  /*일요일 표시*/
  .cal-day:nth-child(7n + 1),
  .cal-date:nth-child(7n + 1) {
    color: #D13E3E;
  }
  /*토요일 표시*/ 
  .cal-day:nth-child(7n),
  .cal-date:nth-child(7n) {
    color: #396EE2;
  }
  /*이번 달 아닌 날 흐리게 표시*/
  .cal-other {
    opacity: .3;
  }
  .today {
    position: relative;
    color: #Fff;
    background-color: #007bff;
    border-radius: 25px;
    /* /* padding: 3px; */
    box-shadow: 2px 2px 2px #a6acaf,  #f8f9f9; 
  }
    </style>


    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
    <script src="https://unpkg.com/shards-ui@latest/dist/js/shards.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sharrre/2.0.1/jquery.sharrre.min.js"></script>
    <script src="/static/scripts/extras.1.1.0.min.js"></script>
    <script src="/static/scripts/shards-dashboards.1.1.0.min.js"></script>
  </body>
</html>